<!doctype html>
<html lang="id">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rangkuman Materi Interaktif</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        html, body {
            height: 100%;
        }
        
        .quiz-card {
            transition: all 0.3s ease;
        }
        
        .quiz-card:hover {
            transform: translateY(-2px);
        }
        
        .tab-button {
            transition: all 0.2s ease;
        }
        
        .tab-button.active {
            border-bottom: 3px solid;
        }
        
        .content-section {
            animation: fadeIn 0.4s ease-in;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .topic-item {
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .topic-item:hover {
            transform: scale(1.02);
        }
        
        .collapse-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .collapse-content.active {
            max-height: 5000px;
        }
        
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .info-box .detail-section {
            line-height: 1.8;
        }
        
        .info-box ul {
            line-height: 1.8;
        }
        
        .fun-fact {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            border-left: 5px solid #f59e0b;
            font-size: 14px;
        }
        
        .quiz-option {
            padding: 12px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            background: white;
        }
        
        .quiz-option:hover {
            border-color: #3b82f6;
            background: #eff6ff;
        }
        
        .quiz-option.selected {
            border-color: #3b82f6;
            background: #dbeafe;
        }
        
        .quiz-option.correct {
            border-color: #10b981;
            background: #d1fae5;
        }
        
        .quiz-option.incorrect {
            border-color: #ef4444;
            background: #fee2e2;
        }
        
        .quiz-button {
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            font-size: 14px;
        }
        
        .quiz-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .quiz-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .score-display {
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            margin: 20px 0;
        }
  </style>
 </head>
 <body>
  <div id="app" class="w-full h-full"></div>
  <script>
        const defaultConfig = {
            main_title: "Rangkuman Materi Interaktif",
            subtitle: "Kelas 6 SD - Semester 2",
            primary_color: "#3B82F6",
            secondary_color: "#EFF6FF",
            accent_color: "#1E40AF",
            text_color: "#1F2937",
            background_color: "#F9FAFB",
            font_family: "Segoe UI",
            font_size: 16
        };

        const materiData = {
            ipa: {
                title: "IPA - Rangka dan Otot Manusia",
                icon: "ğŸ¦´",
                topics: [
                    {
                        title: "Tulang Penyusun Rangka Lengan",
                        content: `
                            <div class="info-box">
                                <h4 style="font-weight: bold; margin-bottom: 12px; color: #1e40af;">ğŸ’ª Struktur Tulang Lengan</h4>
                                <div class="detail-section">
                                    <p style="margin-bottom: 8px;"><strong>1ï¸âƒ£ LENGAN ATAS</strong></p>
                                    <ul style="margin-left: 20px; margin-bottom: 12px;">
                                        <li><strong>Tulang Lengan Atas (Humerus)</strong> - Tulang panjang yang menghubungkan bahu dengan siku</li>
                                        <li>Tempat melekat otot bisep dan trisep</li>
                                    </ul>
                                    <p style="margin-bottom: 8px;"><strong>2ï¸âƒ£ LENGAN BAWAH</strong></p>
                                    <ul style="margin-left: 20px; margin-bottom: 12px;">
                                        <li><strong>Tulang Pengumpil (Radius)</strong> - Tulang di sisi ibu jari, dapat berputar</li>
                                        <li><strong>Tulang Hasta (Ulna)</strong> - Tulang di sisi kelingking, lebih panjang</li>
                                    </ul>
                                    <p style="margin-bottom: 8px;"><strong>3ï¸âƒ£ TANGAN</strong></p>
                                    <ul style="margin-left: 20px;">
                                        <li><strong>Tulang Pergelangan Tangan (Karpal)</strong> - 8 tulang kecil</li>
                                        <li><strong>Tulang Telapak Tangan (Metakarpal)</strong> - 5 tulang</li>
                                        <li><strong>Tulang Jari Tangan (Falang)</strong> - 14 tulang</li>
                                    </ul>
                                </div>
                                <div class="fun-fact">
                                    <strong>ğŸ’¡ Tahukah Kamu?</strong> Satu tangan manusia memiliki 27 tulang! Lebih dari seperempat total tulang tubuh manusia (206 tulang) ada di kedua tangan kita.
                                </div>
                            </div>
                        `
                    },
                    {
                        title: "Tulang Pelindung Jantung",
                        content: `
                            <div class="info-box">
                                <h4 style="font-weight: bold; margin-bottom: 12px; color: #1e40af;">â¤ï¸ Pelindung Organ Vital</h4>
                                <div class="detail-section">
                                    <p style="margin-bottom: 12px;"><strong>ğŸ›¡ï¸ TULANG RUSUK (Costae)</strong></p>
                                    <ul style="margin-left: 20px; margin-bottom: 15px;">
                                        <li>Jumlah: <strong>12 pasang (24 tulang)</strong></li>
                                        <li><strong>7 pasang rusuk sejati</strong> - terhubung langsung ke tulang dada</li>
                                        <li><strong>3 pasang rusuk palsu</strong> - terhubung tidak langsung</li>
                                        <li><strong>2 pasang rusuk melayang</strong> - tidak terhubung ke tulang dada</li>
                                    </ul>
                                    <p style="margin-bottom: 12px;"><strong>ğŸ¦´ TULANG DADA (Sternum)</strong></p>
                                    <ul style="margin-left: 20px; margin-bottom: 15px;">
                                        <li>Tulang pipih di tengah dada</li>
                                        <li>Tempat melekatnya tulang rusuk</li>
                                        <li>Melindungi jantung dari benturan depan</li>
                                    </ul>
                                    <p style="background: #fef3c7; padding: 12px; border-radius: 8px; border-left: 4px solid #f59e0b;">
                                        <strong>ğŸ¯ Organ yang Dilindungi:</strong><br>
                                        â¤ï¸ Jantung - Organ pemompa darah<br>
                                        ğŸ« Paru-paru - Organ pernapasan<br>
                                        ğŸ©¸ Pembuluh darah besar
                                    </p>
                                </div>
                                <div class="fun-fact">
                                    <strong>ğŸ’¡ Fakta Menarik:</strong> Tulang rusuk manusia bisa tumbuh kembali jika rusak! Ini adalah satu-satunya tulang yang memiliki kemampuan regenerasi sangat baik.
                                </div>
                            </div>
                        `
                    },
                    {
                        title: "Tulang dengan Bentuk Pipih",
                        content: `
                            <div class="info-box">
                                <h4 style="font-weight: bold; margin-bottom: 12px; color: #1e40af;">ğŸ“‹ Jenis-Jenis Tulang Pipih</h4>
                                <div class="detail-section">
                                    <p style="margin-bottom: 12px;"><strong>âœ¨ CIRI-CIRI TULANG PIPIH:</strong></p>
                                    <ul style="margin-left: 20px; margin-bottom: 15px;">
                                        <li>Berbentuk <strong>pipih dan lebar</strong></li>
                                        <li>Fungsi utama: <strong>melindungi organ dalam</strong></li>
                                        <li>Tempat <strong>melekatnya otot</strong></li>
                                    </ul>
                                    <p style="margin-bottom: 12px;"><strong>ğŸ¦´ CONTOH TULANG PIPIH:</strong></p>
                                    <div style="background: linear-gradient(135deg, #dbeafe, #bfdbfe); padding: 15px; border-radius: 10px; margin-bottom: 10px;">
                                        <p style="margin: 0;"><strong>1. Tulang Tengkorak</strong></p>
                                        <p style="margin: 5px 0 0 20px;">ğŸ§  Melindungi otak dari benturan</p>
                                    </div>
                                    <div style="background: linear-gradient(135deg, #fef3c7, #fde68a); padding: 15px; border-radius: 10px; margin-bottom: 10px;">
                                        <p style="margin: 0;"><strong>2. Tulang Rusuk</strong></p>
                                        <p style="margin: 5px 0 0 20px;">â¤ï¸ Melindungi jantung dan paru-paru</p>
                                    </div>
                                    <div style="background: linear-gradient(135deg, #d1fae5, #a7f3d0); padding: 15px; border-radius: 10px; margin-bottom: 10px;">
                                        <p style="margin: 0;"><strong>3. Tulang Dada (Sternum)</strong></p>
                                        <p style="margin: 5px 0 0 20px;">ğŸ›¡ï¸ Melindungi organ dada bagian depan</p>
                                    </div>
                                </div>
                                <div class="fun-fact">
                                    <strong>ğŸ’¡ Fakta Unik:</strong> Tulang tengkorak dewasa terdiri dari 22 tulang pipih yang saling menyatu dengan kuat!
                                </div>
                            </div>
                        `
                    },
                    {
                        title: "Ciri-Ciri Otot",
                        content: `
                            <div class="info-box">
                                <h4 style="font-weight: bold; margin-bottom: 12px; color: #1e40af;">ğŸ’ª 3 Jenis Otot Manusia</h4>
                                <div class="detail-section">
                                    <div style="background: linear-gradient(135deg, #fef3c7, #fde68a); padding: 15px; border-radius: 10px; margin-bottom: 15px; border-left: 5px solid #f59e0b;">
                                        <p style="margin-bottom: 8px;"><strong>1ï¸âƒ£ OTOT LURIK (Otot Rangka)</strong></p>
                                        <ul style="margin-left: 20px; margin-top: 8px;">
                                            <li>âœ… Bekerja di bawah <strong>kesadaran</strong> (disengaja)</li>
                                            <li>ğŸ“ Menempel pada <strong>rangka/tulang</strong></li>
                                            <li>ğŸ”¬ Bentuk <strong>silindris panjang</strong> dengan garis melintang</li>
                                            <li>ğŸ§¬ Memiliki <strong>banyak inti sel</strong></li>
                                            <li>âš¡ Kontraksi <strong>cepat</strong> tapi mudah lelah</li>
                                            <li>ğŸ¯ Contoh: Otot lengan, kaki, perut</li>
                                        </ul>
                                    </div>
                                    <div style="background: linear-gradient(135deg, #dbeafe, #bfdbfe); padding: 15px; border-radius: 10px; margin-bottom: 15px; border-left: 5px solid #3b82f6;">
                                        <p style="margin-bottom: 8px;"><strong>2ï¸âƒ£ OTOT POLOS</strong></p>
                                        <ul style="margin-left: 20px; margin-top: 8px;">
                                            <li>ğŸš« Bekerja di luar <strong>kesadaran</strong> (otomatis)</li>
                                            <li>ğŸ“ Terdapat pada <strong>organ dalam</strong></li>
                                            <li>ğŸ”¬ Bentuk <strong>gelendong</strong> dengan ujung lancip</li>
                                            <li>ğŸ§¬ Memiliki <strong>satu inti sel</strong> di tengah</li>
                                            <li>â±ï¸ Kontraksi <strong>lambat</strong> tapi tidak mudah lelah</li>
                                            <li>ğŸ¯ Contoh: Otot lambung, usus, pembuluh darah</li>
                                        </ul>
                                    </div>
                                    <div style="background: linear-gradient(135deg, #fecaca, #fca5a5); padding: 15px; border-radius: 10px; margin-bottom: 15px; border-left: 5px solid #dc2626;">
                                        <p style="margin-bottom: 8px;"><strong>3ï¸âƒ£ OTOT JANTUNG</strong></p>
                                        <ul style="margin-left: 20px; margin-top: 8px;">
                                            <li>ğŸš« Bekerja di luar <strong>kesadaran</strong> (otomatis)</li>
                                            <li>ğŸ“ Hanya ada di <strong>jantung</strong></li>
                                            <li>ğŸ”¬ Bentuk <strong>silindris bercabang</strong> dengan garis melintang</li>
                                            <li>â¤ï¸ Kontraksi <strong>ritmis</strong> dan tidak pernah lelah</li>
                                            <li>âš¡ Bekerja <strong>24/7</strong> sepanjang hidup</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="fun-fact">
                                    <strong>ğŸ’¡ Fakta Mencengangkan:</strong> Otot jantung berkontraksi lebih dari 100.000 kali setiap hari!
                                </div>
                            </div>
                        `
                    },
                    {
                        title: "Nama Sendi dan Arah Geraknya",
                        content: `
                            <div class="info-box">
                                <h4 style="font-weight: bold; margin-bottom: 12px; color: #1e40af;">ğŸ”„ Jenis-Jenis Sendi dan Gerakannya</h4>
                                <div class="detail-section">
                                    <div style="background: linear-gradient(135deg, #dbeafe, #bfdbfe); padding: 15px; border-radius: 10px; margin-bottom: 12px; border-left: 5px solid #3b82f6;">
                                        <p style="margin-bottom: 8px; font-weight: bold;">1ï¸âƒ£ SENDI PELURU</p>
                                        <p style="margin-left: 20px; margin-bottom: 5px;"><strong>Gerakan:</strong> Ke segala arah (360Â°)</p>
                                        <p style="margin-left: 20px; margin-bottom: 5px;"><strong>Lokasi:</strong> ğŸ¦´ Bahu dan panggul</p>
                                        <p style="margin-left: 20px;">Contoh gerakan: memutar lengan, menendang</p>
                                    </div>
                                    <div style="background: linear-gradient(135deg, #fef3c7, #fde68a); padding: 15px; border-radius: 10px; margin-bottom: 12px; border-left: 5px solid #f59e0b;">
                                        <p style="margin-bottom: 8px; font-weight: bold;">2ï¸âƒ£ SENDI ENGSEL</p>
                                        <p style="margin-left: 20px; margin-bottom: 5px;"><strong>Gerakan:</strong> Satu arah (seperti pintu)</p>
                                        <p style="margin-left: 20px; margin-bottom: 5px;"><strong>Lokasi:</strong> ğŸ¦µ Siku, lutut, dan jari</p>
                                        <p style="margin-left: 20px;">Contoh gerakan: menekuk dan meluruskan</p>
                                    </div>
                                    <div style="background: linear-gradient(135deg, #d1fae5, #a7f3d0); padding: 15px; border-radius: 10px; margin-bottom: 12px; border-left: 5px solid #10b981;">
                                        <p style="margin-bottom: 8px; font-weight: bold;">3ï¸âƒ£ SENDI PUTAR</p>
                                        <p style="margin-left: 20px; margin-bottom: 5px;"><strong>Gerakan:</strong> Berputar pada porosnya</p>
                                        <p style="margin-left: 20px; margin-bottom: 5px;"><strong>Lokasi:</strong> ğŸ”„ Leher (atlas-axis)</p>
                                        <p style="margin-left: 20px;">Contoh gerakan: menggelengkan kepala kanan-kiri</p>
                                    </div>
                                </div>
                                <div class="fun-fact">
                                    <strong>ğŸ’¡ Tahukah Kamu?</strong> Tubuh manusia memiliki lebih dari 200 sendi yang memungkinkan kita bergerak dengan bebas!
                                </div>
                            </div>
                        `
                    },
                    {
                        title: "Fungsi Rangka Manusia",
                        content: `
                            <div class="info-box">
                                <h4 style="font-weight: bold; margin-bottom: 12px; color: #1e40af;">ğŸ¦´ 5 Fungsi Utama Rangka</h4>
                                <div class="detail-section">
                                    <div style="background: linear-gradient(135deg, #dbeafe, #bfdbfe); padding: 15px; border-radius: 10px; margin-bottom: 12px; border-left: 5px solid #3b82f6;">
                                        <p style="margin-bottom: 8px; font-weight: bold;">1ï¸âƒ£ MEMBENTUK TUBUH</p>
                                        <p style="margin-left: 15px;">Rangka memberi bentuk dan postur tubuh manusia. Tanpa rangka, tubuh kita tidak akan memiliki bentuk tetap.</p>
                                        <p style="margin-left: 15px; margin-top: 8px;">ğŸ’¡ <strong>Contoh:</strong> Tinggi badan, bentuk wajah, postur tegak</p>
                                    </div>
                                    <div style="background: linear-gradient(135deg, #fef3c7, #fde68a); padding: 15px; border-radius: 10px; margin-bottom: 12px; border-left: 5px solid #f59e0b;">
                                        <p style="margin-bottom: 8px; font-weight: bold;">2ï¸âƒ£ MENEGAKKAN TUBUH</p>
                                        <p style="margin-left: 15px;">Rangka berfungsi sebagai penyokong tubuh agar bisa berdiri tegak dan melawan gravitasi.</p>
                                        <p style="margin-left: 15px; margin-top: 8px;">ğŸ’¡ <strong>Contoh:</strong> Tulang belakang menopang tubuh, tulang kaki menahan berat badan</p>
                                    </div>
                                    <div style="background: linear-gradient(135deg, #fecaca, #fca5a5); padding: 15px; border-radius: 10px; margin-bottom: 12px; border-left: 5px solid #dc2626;">
                                        <p style="margin-bottom: 8px; font-weight: bold;">3ï¸âƒ£ MELINDUNGI ORGAN DALAM</p>
                                        <p style="margin-left: 15px; margin-bottom: 8px;">Rangka melindungi organ-organ vital dari benturan dan cedera.</p>
                                        <ul style="margin-left: 35px;">
                                            <li>ğŸ§  Tulang tengkorak â†’ melindungi otak</li>
                                            <li>â¤ï¸ Tulang rusuk â†’ melindungi jantung dan paru-paru</li>
                                            <li>ğŸ¦´ Tulang belakang â†’ melindungi sumsum tulang belakang</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="fun-fact">
                                    <strong>ğŸ’¡ Fakta Luar Biasa:</strong> Rangka manusia dewasa memiliki 206 tulang, sedangkan bayi lahir dengan 270 tulang yang kemudian menyatu saat tumbuh dewasa!
                                </div>
                            </div>
                        `
                    }
                ]
            },
            sejarah: {
                title: "IPS - Sejarah Indonesia",
                icon: "ğŸ“œ",
                topics: [
                    {
                        title: "Latar Belakang Kedatangan Bangsa Barat",
                        content: `
                            <div class="info-box">
                                <h4 style="font-weight: bold; margin-bottom: 12px; color: #1e40af;">ğŸŒ Mengapa Bangsa Barat Datang ke Indonesia?</h4>
                                <div class="detail-section">
                                    <div style="background: linear-gradient(135deg, #fef3c7, #fde68a); padding: 15px; border-radius: 10px; margin-bottom: 12px; border-left: 5px solid #f59e0b;">
                                        <p style="margin-bottom: 8px;"><strong>1ï¸âƒ£ MENCARI REMPAH-REMPAH</strong></p>
                                        <p style="margin-left: 15px; margin-bottom: 8px;"><strong>Alasan Utama:</strong></p>
                                        <ul style="margin-left: 35px;">
                                            <li>ğŸŒ¶ï¸ Rempah-rempah sangat mahal di Eropa (lebih mahal dari emas!)</li>
                                            <li>ğŸ— Digunakan untuk pengawet makanan, obat-obatan, dan bumbu masakan</li>
                                            <li>ğŸ“ Indonesia kaya akan rempah: cengkeh, pala, lada, kayu manis</li>
                                        </ul>
                                    </div>
                                    <div style="background: linear-gradient(135deg, #dbeafe, #bfdbfe); padding: 15px; border-radius: 10px; margin-bottom: 12px; border-left: 5px solid #3b82f6;">
                                        <p style="margin-bottom: 8px;"><strong>2ï¸âƒ£ JATUHNYA KONSTANTINOPEL (1453)</strong></p>
                                        <p style="margin-left: 15px; margin-bottom: 8px;">Turki Usmani menguasai Konstantinopel â†’ jalur perdagangan rempah terputus â†’ harga rempah naik drastis â†’ bangsa Eropa mencari jalur baru ke Asia</p>
                                    </div>
                                </div>
                                <div class="fun-fact">
                                    <strong>ğŸ’¡ Fakta Menarik:</strong> Harga 1 kg pala di Eropa abad ke-15 setara dengan harga 7 ekor sapi! Itulah mengapa Indonesia disebut "Tanah Emas" oleh bangsa Barat.
                                </div>
                            </div>
                        `
                    },
                    {
                        title: "Tokoh Cultuurstelsel",
                        content: `
                            <div class="info-box">
                                <h4 style="font-weight: bold; margin-bottom: 12px; color: #1e40af;">ğŸ‘¨â€ğŸ’¼ Johannes van den Bosch</h4>
                                <div class="detail-section">
                                    <p style="background: #dbeafe; padding: 12px; border-radius: 8px; margin-bottom: 15px;">
                                        <strong>ğŸ“Œ Siapa dia?</strong><br>
                                        <strong>Johannes van den Bosch</strong> adalah Gubernur Jenderal Hindia Belanda yang memprakarsai sistem <strong>Cultuurstelsel (Tanam Paksa)</strong> pada tahun <strong>1830</strong>.
                                    </p>
                                    <div style="background: linear-gradient(135deg, #fecaca, #fca5a5); padding: 15px; border-radius: 10px; margin-bottom: 12px; border-left: 5px solid #dc2626;">
                                        <p style="margin-bottom: 8px;"><strong>âŒ APA ITU CULTUURSTELSEL?</strong></p>
                                        <p style="margin-left: 15px; margin-bottom: 8px;"><strong>Sistem Tanam Paksa</strong> - Petani Indonesia dipaksa menanam tanaman yang menguntungkan Belanda</p>
                                        <ul style="margin-left: 35px;">
                                            <li>â˜• Tanaman: Kopi, tebu, nila, teh</li>
                                            <li>ğŸ“ 1/5 lahan petani harus untuk tanaman wajib</li>
                                            <li>â° Waktu kerja: tidak lebih dari 66 hari/tahun (kenyataannya lebih!)</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="fun-fact">
                                    <strong>ğŸ’¡ Fakta Kelam:</strong> Cultuurstelsel membuat Belanda sangat kaya, tapi jutaan rakyat Indonesia menderita kelaparan. Inilah masa terkelam penjajahan Belanda!
                                </div>
                            </div>
                        `
                    },
                    {
                        title: "Tempat Perumusan Teks Proklamasi",
                        content: `
                            <div class="info-box">
                                <h4 style="font-weight: bold; margin-bottom: 12px; color: #1e40af;">ğŸ“œ Perumusan Teks Proklamasi</h4>
                                <div class="detail-section">
                                    <div style="background: linear-gradient(135deg, #dbeafe, #bfdbfe); padding: 15px; border-radius: 10px; margin-bottom: 12px; border-left: 5px solid #3b82f6;">
                                        <p style="margin-bottom: 8px;"><strong>ğŸ  RUMAH LAKSAMANA MAEDA</strong></p>
                                        <p style="margin-left: 15px; margin-bottom: 8px;"><strong>ğŸ“ Alamat:</strong> Jalan Imam Bonjol No. 1, Jakarta Pusat</p>
                                        <p style="margin-left: 15px; margin-bottom: 8px;"><strong>ğŸ‘¤ Pemilik:</strong> Laksamana Tadashi Maeda (Perwira Angkatan Laut Jepang)</p>
                                        <p style="margin-left: 15px; margin-bottom: 8px;"><strong>ğŸ• Waktu:</strong> Malam 16 Agustus 1945 (sekitar pukul 22.00 - 04.00 dini hari 17 Agustus)</p>
                                    </div>
                                    <div style="background: linear-gradient(135deg, #fef3c7, #fde68a); padding: 15px; border-radius: 10px; margin-bottom: 12px; border-left: 5px solid #f59e0b;">
                                        <p style="margin-bottom: 8px;"><strong>âœï¸ TIM PERUMUS</strong></p>
                                        <p style="margin-left: 15px; margin-bottom: 8px;"><strong>Yang Merumuskan:</strong></p>
                                        <ul style="margin-left: 35px; margin-bottom: 12px;">
                                            <li>ğŸ‡®ğŸ‡© <strong>Ir. Soekarno</strong> - Menulis konsep</li>
                                            <li>ğŸ‡®ğŸ‡© <strong>Drs. Mohammad Hatta</strong> - Memberi masukan</li>
                                            <li>ğŸ‡®ğŸ‡© <strong>Mr. Ahmad Soebardjo</strong> - Menyempurnakan rumusan</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="fun-fact">
                                    <strong>ğŸ’¡ Fakta Unik:</strong> Teks Proklamasi yang dibacakan Soekarno BERBEDA dengan yang diketik Sayuti Melik! Soekarno membaca dari konsep tulisan tangan yang lebih sederhana.
                                </div>
                            </div>
                        `
                    }
                ]
            },
            geografi: {
                title: "IPS - Geografi Benua",
                icon: "ğŸŒ",
                topics: [
                    {
                        title: "Benua Terluas dan Urutan Luas Benua",
                        content: `
                            <div class="info-box">
                                <h4 style="font-weight: bold; margin-bottom: 12px; color: #1e40af;">ğŸŒ Urutan Benua dari Terluas</h4>
                                <div class="detail-section">
                                    <div style="background: linear-gradient(135deg, #fef3c7, #fde68a); padding: 15px; border-radius: 10px; margin-bottom: 12px; border-left: 5px solid #f59e0b;">
                                        <p style="margin-bottom: 8px;"><strong>ğŸ¥‡ 1. ASIA - 44,58 juta kmÂ²</strong></p>
                                        <p style="margin-left: 15px; margin-bottom: 8px;"><strong>Fakta:</strong></p>
                                        <ul style="margin-left: 35px;">
                                            <li>âœ¨ Benua terluas dan terpadat di dunia</li>
                                            <li>ğŸ‘¥ 60% populasi dunia tinggal di Asia</li>
                                            <li>ğŸ—» Ada 14 gunung tertinggi dunia (termasuk Everest)</li>
                                        </ul>
                                    </div>
                                    <div style="background: linear-gradient(135deg, #fed7aa, #fdba74); padding: 15px; border-radius: 10px; margin-bottom: 12px; border-left: 5px solid #ea580c;">
                                        <p style="margin-bottom: 8px;"><strong>ğŸ¥ˆ 2. AFRIKA - 30,37 juta kmÂ²</strong></p>
                                        <p style="margin-left: 15px; margin-bottom: 8px;"><strong>Fakta:</strong></p>
                                        <ul style="margin-left: 35px;">
                                            <li>ğŸ¦ Benua dengan satwa liar terbanyak</li>
                                            <li>ğŸœï¸ Ada Gurun Sahara (gurun terluas)</li>
                                            <li>ğŸŒŠ Sungai Nil (terpanjang di dunia)</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="fun-fact">
                                    <strong>ğŸ’¡ Cara Mudah Mengingat:</strong> "<strong>A-A-A-A-A-E-A</strong>" â†’ Asia, Afrika, Amerika Utara, Amerika Selatan, Antartika, Eropa, Australia (dari terluas!)
                                </div>
                            </div>
                        `
                    },
                    {
                        title: "Benua yang Bergandengan dengan Asia",
                        content: `
                            <div class="info-box">
                                <h4 style="font-weight: bold; margin-bottom: 12px; color: #1e40af;">ğŸ—ºï¸ Benua Eropa - Bergandengan dengan Asia</h4>
                                <div class="detail-section">
                                    <p style="background: #dbeafe; padding: 12px; border-radius: 8px; margin-bottom: 15px;">
                                        <strong>ğŸ”— Jawaban: BENUA EROPA</strong><br>
                                        Benua Eropa bergandengan langsung dengan wilayah <strong>Asia Barat</strong>. Bersama-sama membentuk <strong>EURASIA</strong>.
                                    </p>
                                    <div style="background: linear-gradient(135deg, #fef3c7, #fde68a); padding: 15px; border-radius: 10px; margin-bottom: 12px; border-left: 5px solid #f59e0b;">
                                        <p style="margin-bottom: 8px;"><strong>ğŸŒ„ BATAS ANTARA EROPA DAN ASIA</strong></p>
                                        <ul style="margin-left: 35px;">
                                            <li>ğŸ—» <strong>Pegunungan Ural</strong> (Rusia)</li>
                                            <li>ğŸŒŠ <strong>Sungai Ural</strong></li>
                                            <li>ğŸ”ï¸ <strong>Pegunungan Kaukasus</strong></li>
                                            <li>ğŸŒŠ <strong>Laut Kaspia</strong></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="fun-fact">
                                    <strong>ğŸ’¡ Fakta Unik:</strong> Meski bergandengan langsung, Eropa dan Asia sangat berbeda! Saat Eropa memiliki musim dingin salju, Asia Tenggara tetap panas sepanjang tahun! ğŸŒ¡ï¸
                                </div>
                            </div>
                        `
                    }
                ]
            },
            latihan: {
                title: "Latihan Soal Interaktif",
                icon: "ğŸ“",
                quizzes: [
                    {
                        category: "IPA - Rangka dan Otot",
                        questions: [
                            {
                                question: "Tulang yang menyusun rangka lengan atas adalah...",
                                options: ["Tulang lengan atas", "Tulang pengumpil", "Tulang hasta", "Tulang paha"],
                                correct: 0,
                                explanation: "Tulang lengan atas adalah tulang panjang yang menghubungkan bahu dengan siku."
                            },
                            {
                                question: "Organ yang dilindungi oleh tulang rusuk adalah...",
                                options: ["Ginjal", "Hati", "Jantung dan paru-paru", "Lambung"],
                                correct: 2,
                                explanation: "Tulang rusuk melindungi organ vital seperti jantung dan paru-paru dari benturan."
                            },
                            {
                                question: "Berikut ini yang termasuk tulang pipih adalah...",
                                options: ["Tulang paha", "Tulang tengkorak", "Tulang lengan", "Tulang jari"],
                                correct: 1,
                                explanation: "Tulang tengkorak berbentuk pipih dan berfungsi melindungi otak."
                            },
                            {
                                question: "Otot yang bekerja di bawah kesadaran adalah...",
                                options: ["Otot lurik", "Otot polos", "Otot rangka", "Otot lengan"],
                                correct: 1,
                                explanation: "Otot polos bekerja secara otomatis tanpa disadari, seperti otot lambung dan usus."
                            },
                            {
                                question: "Sendi yang memungkinkan gerakan ke segala arah adalah...",
                                options: ["Sendi engsel", "Sendi peluru", "Sendi putar", "Sendi kaku"],
                                correct: 1,
                                explanation: "Sendi peluru seperti pada bahu dan panggul dapat bergerak ke segala arah (360Â°)."
                            }
                        ]
                    },
                    {
                        category: "IPS - Sejarah Indonesia",
                        questions: [
                            {
                                question: "Tujuan utama bangsa Barat datang ke Indonesia adalah...",
                                options: ["Berwisata", "Mencari rempah-rempah", "Menyebarkan budaya", "Belajar bahasa"],
                                correct: 1,
                                explanation: "Bangsa Barat datang ke Indonesia untuk mencari rempah-rempah yang sangat mahal di Eropa (Gold, Glory, Gospel)."
                            },
                            {
                                question: "Tokoh yang memprakarsai sistem Cultuurstelsel (Tanam Paksa) adalah...",
                                options: ["Daendels", "Van den Bosch", "De Kock", "Raffles"],
                                correct: 1,
                                explanation: "Johannes van den Bosch adalah Gubernur Jenderal yang memulai sistem Cultuurstelsel pada tahun 1830."
                            },
                            {
                                question: "Tempat perumusan teks Proklamasi adalah di rumah...",
                                options: ["Soekarno", "Hatta", "Laksamana Maeda", "Ahmad Soebardjo"],
                                correct: 2,
                                explanation: "Teks Proklamasi dirumuskan di rumah Laksamana Maeda (Jl. Imam Bonjol No. 1, Jakarta) pada malam 16 Agustus 1945."
                            },
                            {
                                question: "Tokoh yang membacakan teks Proklamasi kemerdekaan adalah...",
                                options: ["Mohammad Hatta", "Soekarno", "Ahmad Soebardjo", "Wikana"],
                                correct: 1,
                                explanation: "Ir. Soekarno membacakan teks Proklamasi pada 17 Agustus 1945 pukul 10.00 WIB di Jl. Pegangsaan Timur No. 56."
                            },
                            {
                                question: "Pertempuran yang diperingati sebagai Hari Pahlawan adalah...",
                                options: ["Pertempuran Ambarawa", "Pertempuran 10 November 1945 di Surabaya", "Bandung Lautan Api", "Serangan Umum 1 Maret"],
                                correct: 1,
                                explanation: "Pertempuran 10 November 1945 di Surabaya melawan Inggris dan NICA diperingati sebagai Hari Pahlawan."
                            }
                        ]
                    },
                    {
                        category: "IPS - Geografi Benua",
                        questions: [
                            {
                                question: "Benua terluas di dunia adalah...",
                                options: ["Afrika", "Asia", "Amerika", "Eropa"],
                                correct: 1,
                                explanation: "Benua Asia adalah benua terluas dengan luas 44,58 juta kmÂ² dan penduduk terbanyak (60% populasi dunia)."
                            },
                            {
                                question: "Benua yang bergandengan langsung dengan Asia Barat adalah...",
                                options: ["Afrika", "Eropa", "Australia", "Amerika"],
                                correct: 1,
                                explanation: "Benua Eropa bergandengan langsung dengan Asia Barat, dipisahkan oleh Pegunungan Ural dan Laut Kaspia. Bersama disebut Eurasia."
                            }
                        ]
                    }
                ]
            }
        };

        let currentTab = 'ipa';
        let expandedTopics = {};
        let quizState = {};

        function renderQuizContent(config, fontSize) {
            const data = materiData.latihan;
            
            return `
                <div style="max-width: 1200px; margin: 0 auto;">
                    <div style="background-color: white; border-radius: ${fontSize * 0.5}px; padding: ${fontSize * 1.5}px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: ${fontSize * 1.5}px;">
                        <h2 class="font-bold mb-3" style="font-size: ${fontSize * 1.5}px; color: ${config.primary_color || defaultConfig.primary_color};">
                            <span style="font-size: ${fontSize * 1.8}px;">${data.icon}</span> ${data.title}
                        </h2>
                        <p style="font-size: ${fontSize * 0.95}px; color: ${config.text_color || defaultConfig.text_color}; opacity: 0.8;">
                            Pilih kategori dan jawab pertanyaan dengan klik tombol di bawah ini! 
                        </p>
                    </div>

                    <div style="display: grid; gap: ${fontSize * 1.5}px;">
                        ${data.quizzes.map((quiz, quizIndex) => {
                            const state = quizState[quizIndex] || { currentQuestion: 0, answers: [], showResult: false, score: 0 };
                            const currentQ = quiz.questions[state.currentQuestion];
                            const progress = ((state.currentQuestion) / quiz.questions.length) * 100;
                            
                            return `
                                <div style="background-color: white; border-radius: ${fontSize * 0.5}px; padding: ${fontSize * 1.5}px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); border-left: 4px solid ${config.primary_color || defaultConfig.primary_color};">
                                    <div style="margin-bottom: ${fontSize * 1}px;">
                                        <h3 class="font-bold" style="font-size: ${fontSize * 1.3}px; color: ${config.primary_color || defaultConfig.primary_color}; margin-bottom: ${fontSize * 0.5}px;">
                                            ${quiz.category}
                                        </h3>
                                        <div style="background-color: ${config.secondary_color || defaultConfig.secondary_color}; height: 8px; border-radius: 4px; overflow: hidden;">
                                            <div style="background-color: ${config.primary_color || defaultConfig.primary_color}; height: 100%; width: ${progress}%; transition: width 0.3s ease;"></div>
                                        </div>
                                        <p style="font-size: ${fontSize * 0.85}px; color: ${config.text_color || defaultConfig.text_color}; opacity: 0.7; margin-top: ${fontSize * 0.5}px;">
                                            Soal ${state.currentQuestion + 1} dari ${quiz.questions.length}
                                        </p>
                                    </div>

                                    ${!state.showResult ? `
                                        <div style="margin-bottom: ${fontSize * 1.5}px;">
                                            <p style="font-size: ${fontSize * 1.1}px; font-weight: 600; color: ${config.text_color || defaultConfig.text_color}; margin-bottom: ${fontSize * 1.5}px; line-height: 1.6;">
                                                ${currentQ.question}
                                            </p>

                                            <div style="display: grid; gap: ${fontSize * 0.75}px;">
                                                ${currentQ.options.map((option, optIndex) => {
                                                    const isSelected = state.answers[state.currentQuestion] === optIndex;
                                                    const isAnswered = state.answers[state.currentQuestion] !== undefined;
                                                    const isCorrect = optIndex === currentQ.correct;
                                                    
                                                    let optionClass = 'quiz-option';
                                                    let borderColor = '#e5e7eb';
                                                    let bgColor = 'white';
                                                    
                                                    if (isAnswered) {
                                                        if (isCorrect) {
                                                            optionClass += ' correct';
                                                            borderColor = '#10b981';
                                                            bgColor = '#d1fae5';
                                                        } else if (isSelected) {
                                                            optionClass += ' incorrect';
                                                            borderColor = '#ef4444';
                                                            bgColor = '#fee2e2';
                                                        }
                                                    } else if (isSelected) {
                                                        optionClass += ' selected';
                                                        borderColor = config.primary_color || defaultConfig.primary_color;
                                                        bgColor = config.secondary_color || defaultConfig.secondary_color;
                                                    }
                                                    
                                                    return `
                                                        <div class="${optionClass}" 
                                                             data-quiz="${quizIndex}" 
                                                             data-option="${optIndex}"
                                                             style="padding: ${fontSize * 0.85}px ${fontSize * 1}px; border: 2px solid ${borderColor}; border-radius: ${fontSize * 0.5}px; cursor: ${isAnswered ? 'default' : 'pointer'}; transition: all 0.2s ease; background: ${bgColor}; font-size: ${fontSize * 0.95}px;">
                                                            <span style="font-weight: 600; margin-right: ${fontSize * 0.5}px;">${String.fromCharCode(65 + optIndex)}.</span>
                                                            ${option}
                                                            ${isAnswered && isCorrect ? ' âœ“' : ''}
                                                            ${isAnswered && isSelected && !isCorrect ? ' âœ—' : ''}
                                                        </div>
                                                    `;
                                                }).join('')}
                                            </div>

                                            ${state.answers[state.currentQuestion] !== undefined ? `
                                                <div style="margin-top: ${fontSize * 1}px; padding: ${fontSize * 1}px; background: ${config.secondary_color || defaultConfig.secondary_color}; border-radius: ${fontSize * 0.5}px; border-left: 4px solid ${state.answers[state.currentQuestion] === currentQ.correct ? '#10b981' : '#f59e0b'};">
                                                    <p style="font-size: ${fontSize * 0.95}px; color: ${config.text_color || defaultConfig.text_color}; line-height: 1.6;">
                                                        <strong>${state.answers[state.currentQuestion] === currentQ.correct ? 'âœ“ Benar!' : 'â„¹ï¸ Penjelasan:'}</strong><br>
                                                        ${currentQ.explanation}
                                                    </p>
                                                </div>
                                            ` : ''}
                                        </div>

                                        <div style="display: flex; gap: ${fontSize * 0.75}px; justify-content: flex-end;">
                                            ${state.answers[state.currentQuestion] !== undefined ? `
                                                <button class="quiz-button" 
                                                        data-quiz="${quizIndex}" 
                                                        data-action="${state.currentQuestion < quiz.questions.length - 1 ? 'next' : 'finish'}"
                                                        style="background-color: ${config.primary_color || defaultConfig.primary_color}; color: white; font-size: ${fontSize * 0.95}px; padding: ${fontSize * 0.85}px ${fontSize * 1.5}px; border-radius: ${fontSize * 0.5}px; cursor: pointer; border: none; font-weight: 600;">
                                                    ${state.currentQuestion < quiz.questions.length - 1 ? 'Soal Berikutnya â†’' : 'Lihat Hasil ğŸ¯'}
                                                </button>
                                            ` : ''}
                                        </div>
                                    ` : `
                                        <div class="score-display" style="background: linear-gradient(135deg, ${config.primary_color || defaultConfig.primary_color}, ${config.accent_color || defaultConfig.accent_color}); color: white; padding: ${fontSize * 1.5}px; border-radius: ${fontSize * 0.75}px; text-align: center; margin-bottom: ${fontSize * 1.5}px;">
                                            <div style="font-size: ${fontSize * 3}px; margin-bottom: ${fontSize * 0.5}px;">
                                                ${state.score >= 80 ? 'ğŸ†' : state.score >= 60 ? 'ğŸ‘' : 'ğŸ’ª'}
                                            </div>
                                            <h3 style="font-size: ${fontSize * 1.5}px; margin-bottom: ${fontSize * 0.5}px;">
                                                Nilai Kamu: ${state.score.toFixed(0)}/100
                                            </h3>
                                            <p style="font-size: ${fontSize * 1}px; opacity: 0.9;">
                                                Jawaban benar: ${state.answers.filter((ans, idx) => ans === quiz.questions[idx].correct).length} dari ${quiz.questions.length}
                                            </p>
                                            <p style="font-size: ${fontSize * 0.95}px; margin-top: ${fontSize * 0.75}px; opacity: 0.95;">
                                                ${state.score >= 80 ? 'Luar biasa! Kamu menguasai materi ini! ğŸŒŸ' : state.score >= 60 ? 'Bagus! Terus belajar ya! ğŸ“š' : 'Jangan menyerah! Coba lagi dan pelajari materinya! ğŸ’ª'}
                                            </p>
                                        </div>

                                        <button class="quiz-button" 
                                                data-quiz="${quizIndex}" 
                                                data-action="reset"
                                                style="background-color: ${config.primary_color || defaultConfig.primary_color}; color: white; font-size: ${fontSize * 0.95}px; padding: ${fontSize * 0.85}px ${fontSize * 1.5}px; border-radius: ${fontSize * 0.5}px; cursor: pointer; border: none; font-weight: 600; width: 100%;">
                                            ğŸ”„ Ulangi Latihan
                                        </button>
                                    `}
                                </div>
                            `;
                        }).join('')}
                    </div>
                </div>
            `;
        }

        function renderApp(config) {
            const app = document.getElementById('app');
            const customFont = config.font_family || defaultConfig.font_family;
            const baseFont = 'Arial, sans-serif';
            const fontSize = config.font_size || defaultConfig.font_size;
            
            app.style.fontFamily = `${customFont}, ${baseFont}`;
            app.style.backgroundColor = config.background_color || defaultConfig.background_color;
            app.style.color = config.text_color || defaultConfig.text_color;
            
            app.innerHTML = `
                <div class="w-full h-full" style="background-color: ${config.background_color || defaultConfig.background_color}; overflow-y: auto;">
                    <!-- Header -->
                    <div class="w-full" style="background: linear-gradient(135deg, ${config.primary_color || defaultConfig.primary_color}, ${config.accent_color || defaultConfig.accent_color}); padding: ${fontSize * 2}px ${fontSize * 1.5}px;">
                        <div class="text-center">
                            <h1 class="font-bold mb-2" style="font-size: ${fontSize * 2}px; color: white;">${config.main_title || defaultConfig.main_title}</h1>
                            <p style="font-size: ${fontSize * 1}px; color: white; opacity: 0.95;">${config.subtitle || defaultConfig.subtitle}</p>
                        </div>
                    </div>

                    <!-- Tab Navigation -->
                    <div class="w-full" style="background-color: white; border-bottom: 2px solid ${config.secondary_color || defaultConfig.secondary_color}; padding: ${fontSize * 0.5}px ${fontSize * 1}px;">
                        <div style="display: flex; gap: ${fontSize * 0.5}px; overflow-x: auto; flex-wrap: wrap;">
                            <button class="tab-button ${currentTab === 'ipa' ? 'active' : ''}" 
                                    data-tab="ipa"
                                    style="padding: ${fontSize * 1}px ${fontSize * 1.5}px; font-size: ${fontSize * 0.95}px; font-weight: 600; background: none; border: none; cursor: pointer; white-space: nowrap; color: ${currentTab === 'ipa' ? (config.primary_color || defaultConfig.primary_color) : (config.text_color || defaultConfig.text_color)}; border-bottom: ${currentTab === 'ipa' ? '3px solid ' + (config.primary_color || defaultConfig.primary_color) : 'none'};">
                                <span style="font-size: ${fontSize * 1.2}px;">ğŸ¦´</span>
                                <span style="margin-left: ${fontSize * 0.5}px;">IPA</span>
                            </button>
                            <button class="tab-button ${currentTab === 'sejarah' ? 'active' : ''}" 
                                    data-tab="sejarah"
                                    style="padding: ${fontSize * 1}px ${fontSize * 1.5}px; font-size: ${fontSize * 0.95}px; font-weight: 600; background: none; border: none; cursor: pointer; white-space: nowrap; color: ${currentTab === 'sejarah' ? (config.primary_color || defaultConfig.primary_color) : (config.text_color || defaultConfig.text_color)}; border-bottom: ${currentTab === 'sejarah' ? '3px solid ' + (config.primary_color || defaultConfig.primary_color) : 'none'};">
                                <span style="font-size: ${fontSize * 1.2}px;">ğŸ“œ</span>
                                <span style="margin-left: ${fontSize * 0.5}px;">IPS Sejarah</span>
                            </button>
                            <button class="tab-button ${currentTab === 'geografi' ? 'active' : ''}" 
                                    data-tab="geografi"
                                    style="padding: ${fontSize * 1}px ${fontSize * 1.5}px; font-size: ${fontSize * 0.95}px; font-weight: 600; background: none; border: none; cursor: pointer; white-space: nowrap; color: ${currentTab === 'geografi' ? (config.primary_color || defaultConfig.primary_color) : (config.text_color || defaultConfig.text_color)}; border-bottom: ${currentTab === 'geografi' ? '3px solid ' + (config.primary_color || defaultConfig.primary_color) : 'none'};">
                                <span style="font-size: ${fontSize * 1.2}px;">ğŸŒ</span>
                                <span style="margin-left: ${fontSize * 0.5}px;">IPS Geografi</span>
                            </button>
                            <button class="tab-button ${currentTab === 'latihan' ? 'active' : ''}" 
                                    data-tab="latihan"
                                    style="padding: ${fontSize * 1}px ${fontSize * 1.5}px; font-size: ${fontSize * 0.95}px; font-weight: 600; background: none; border: none; cursor: pointer; white-space: nowrap; color: ${currentTab === 'latihan' ? (config.primary_color || defaultConfig.primary_color) : (config.text_color || defaultConfig.text_color)}; border-bottom: ${currentTab === 'latihan' ? '3px solid ' + (config.primary_color || defaultConfig.primary_color) : 'none'};">
                                <span style="font-size: ${fontSize * 1.2}px;">ğŸ“</span>
                                <span style="margin-left: ${fontSize * 0.5}px;">Latihan Soal</span>
                            </button>
                        </div>
                    </div>

                    <!-- Content Area -->
                    <div class="w-full" style="padding: ${fontSize * 1.5}px;">
                        <div id="content-area" class="content-section">
                            ${renderContent(currentTab, config, fontSize)}
                        </div>
                    </div>

                    <!-- Footer -->
                    <div class="w-full text-center" style="padding: ${fontSize * 1.5}px; background-color: ${config.secondary_color || defaultConfig.secondary_color}; margin-top: ${fontSize * 2}px;">
                        <p style="font-size: ${fontSize * 0.85}px; color: ${config.text_color || defaultConfig.text_color}; opacity: 0.7;">Â© 2024 Media Pembelajaran Interaktif | Semangat Belajar! ğŸ“š</p>
                    </div>
                </div>
            `;
        }

        function renderContent(tab, config, fontSize) {
            if (tab === 'latihan') {
                return renderQuizContent(config, fontSize);
            }
            
            const data = materiData[tab];
            
            return `
                <div style="max-width: 1200px; margin: 0 auto;">
                    <div style="background-color: white; border-radius: ${fontSize * 0.5}px; padding: ${fontSize * 1.5}px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: ${fontSize * 1.5}px;">
                        <h2 class="font-bold mb-3" style="font-size: ${fontSize * 1.5}px; color: ${config.primary_color || defaultConfig.primary_color};">
                            <span style="font-size: ${fontSize * 1.8}px;">${data.icon}</span> ${data.title}
                        </h2>
                        <p style="font-size: ${fontSize * 0.95}px; color: ${config.text_color || defaultConfig.text_color}; opacity: 0.8;">
                            Klik pada setiap topik untuk melihat penjelasan lengkap
                        </p>
                    </div>

                    <div style="display: grid; gap: ${fontSize * 1}px;">
                        ${data.topics.map((topic, index) => `
                            <div class="topic-item quiz-card" 
                                 data-tab="${tab}"
                                 data-index="${index}"
                                 style="background-color: white; border-radius: ${fontSize * 0.5}px; padding: ${fontSize * 1}px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); border-left: 4px solid ${config.primary_color || defaultConfig.primary_color}; cursor: pointer;">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div style="flex: 1;">
                                        <div style="display: flex; align-items: center; gap: ${fontSize * 0.75}px;">
                                            <span class="badge" style="background-color: ${config.secondary_color || defaultConfig.secondary_color}; color: ${config.primary_color || defaultConfig.primary_color};">
                                                ${index + 1}
                                            </span>
                                            <h3 class="font-bold" style="font-size: ${fontSize * 1.1}px; color: ${config.text_color || defaultConfig.text_color};">
                                                ${topic.title}
                                            </h3>
                                        </div>
                                    </div>
                                    <span style="font-size: ${fontSize * 1.5}px; color: ${config.primary_color || defaultConfig.primary_color}; transition: transform 0.3s ease; transform: rotate(${expandedTopics[`${tab}-${index}`] ? '180deg' : '0deg'});">
                                        â–¼
                                    </span>
                                </div>
                                
                                <div class="collapse-content ${expandedTopics[`${tab}-${index}`] ? 'active' : ''}" 
                                     style="margin-top: ${fontSize * 1}px; padding-top: ${fontSize * 1}px; border-top: 1px solid ${config.secondary_color || defaultConfig.secondary_color};">
                                    <div style="font-size: ${fontSize * 0.95}px; line-height: 1.6; color: ${config.text_color || defaultConfig.text_color};">
                                        ${topic.content}
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Add event delegation for all clicks
        document.addEventListener('click', function(e) {
            let target = e.target;
            
            // Handle tab button clicks
            while (target && target !== document) {
                if (target.classList && target.classList.contains('tab-button')) {
                    const tabKey = target.getAttribute('data-tab');
                    if (tabKey) {
                        currentTab = tabKey;
                        renderApp(defaultConfig);
                    }
                    e.stopPropagation();
                    return;
                }
                
                // Handle topic clicks
                if (target.classList && target.classList.contains('topic-item')) {
                    const tabKey = target.getAttribute('data-tab');
                    const topicIndex = parseInt(target.getAttribute('data-index'));
                    if (tabKey && !isNaN(topicIndex)) {
                        const key = `${tabKey}-${topicIndex}`;
                        expandedTopics[key] = !expandedTopics[key];
                        renderApp(defaultConfig);
                    }
                    e.stopPropagation();
                    e.preventDefault();
                    return;
                }
                
                // Handle quiz option clicks
                if (target.classList && target.classList.contains('quiz-option')) {
                    const quizIndex = parseInt(target.getAttribute('data-quiz'));
                    const optIndex = parseInt(target.getAttribute('data-option'));
                    
                    if (!isNaN(quizIndex) && !isNaN(optIndex)) {
                        const state = quizState[quizIndex] || { currentQuestion: 0, answers: [], showResult: false, score: 0 };
                        
                        // Only allow answer if not already answered
                        if (state.answers[state.currentQuestion] === undefined) {
                            state.answers[state.currentQuestion] = optIndex;
                            quizState[quizIndex] = state;
                            renderApp(defaultConfig);
                        }
                    }
                    e.stopPropagation();
                    e.preventDefault();
                    return;
                }
                
                // Handle quiz button clicks
                if (target.classList && target.classList.contains('quiz-button')) {
                    const quizIndex = parseInt(target.getAttribute('data-quiz'));
                    const action = target.getAttribute('data-action');
                    
                    if (!isNaN(quizIndex)) {
                        const state = quizState[quizIndex] || { currentQuestion: 0, answers: [], showResult: false, score: 0 };
                        const quiz = materiData.latihan.quizzes[quizIndex];
                        
                        if (action === 'next') {
                            state.currentQuestion++;
                            quizState[quizIndex] = state;
                            renderApp(defaultConfig);
                        } else if (action === 'finish') {
                            // Calculate score
                            const correctAnswers = state.answers.filter((ans, idx) => ans === quiz.questions[idx].correct).length;
                            state.score = (correctAnswers / quiz.questions.length) * 100;
                            state.showResult = true;
                            quizState[quizIndex] = state;
                            renderApp(defaultConfig);
                        } else if (action === 'reset') {
                            quizState[quizIndex] = { currentQuestion: 0, answers: [], showResult: false, score: 0 };
                            renderApp(defaultConfig);
                        }
                    }
                    e.stopPropagation();
                    e.preventDefault();
                    return;
                }
                
                target = target.parentElement;
            }
        });

        // Initialize the app
        renderApp(defaultConfig);
    </script>
 </body>
</html>
